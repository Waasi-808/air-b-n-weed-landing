<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Air B 'n' Weed</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            gold: '#D4AF37',
          },
          fontFamily: {
            poppins: ['Poppins', 'sans-serif'],
          },
        },
      },
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
</head>
<body class="font-poppins bg-[#1c1c1c] text-white min-h-screen flex flex-col">
  <main class="flex-1 flex flex-col items-center px-4 py-12">
    <!-- Logo -->
    <img src="Air B n' Weed Dashboard Preview.png" alt="Air B 'n' Weed Logo" class="h-24 mb-4">

    <!-- Title & Slogan -->
    <h1 class="text-4xl font-bold text-gold mb-2">Air B-n- Weed</h1>
    <p class="text-lg text-gray-300 mb-8 italic">Stay High, Stay Comfy</p>

    <!-- Intro -->
    <p class="text-center max-w-xl mb-10 text-white">Air B 'n' Weed, providing access to Cannabis friendly accommodations Worldwide.<br>Interested...?</p>

    <!-- Form -->
    <form id="waitlistForm" action="https://formsubmit.co/elevatedechelon2025@gmail.com" method="POST" class="w-full max-w-md bg-white p-6 rounded shadow text-black">
      <input type="hidden" name="_next" value="https://airb-n-weed.com/thank-you.html">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" id="formSubject" name="_subject" value="New Submission" />

      <div class="mb-4">
        <label class="block font-semibold mb-1">Name</label>
        <input type="text" name="name" id="name" required class="w-full border px-3 py-2 rounded">
        <p id="nameError" class="text-red-600 text-sm mt-1 hidden">Name is required</p>
      </div>

      <div class="mb-4">
        <label class="block font-semibold mb-1">Email</label>
        <input type="email" name="email" id="email" required class="w-full border px-3 py-2 rounded">
        <p id="emailError" class="text-red-600 text-sm mt-1 hidden">Email is required</p>
      </div>

      <div class="mb-4">
        <label class="block font-semibold mb-1">I want to...</label>
        <label class="block"><input type="checkbox" id="guestCheckbox" name="interest" value="Become a Guest"> Become a Guest</label>
        <label class="block"><input type="checkbox" id="hostCheckbox" name="interest" value="Become a Host"> Become a Host</label>
        <p id="checkboxError" class="text-red-600 text-sm mt-1 hidden">Must check at least one</p>
      </div>

      <button type="submit" class="bg-gold text-white px-4 py-2 rounded hover:opacity-90 w-full">Join the Waitlist</button>
    </form>
  </main>

  <footer class="text-right text-xs text-gray-400 px-4 pb-2">
    Powered by Elevated Echelon.
  </footer>

  <script>
    const form = document.getElementById("waitlist-form");
    const nameInput = document.getElementById("name");
    const emailInput = document.getElementById("email");
    const guestCheckbox = document.getElementById("guest");
    const hostCheckbox = document.getElementById("host");
    const nameError = document.getElementById("name-error");
    const emailError = document.getElementById("email-error");
    const interestError = document.getElementById("interest-error");
  
    form.addEventListener("submit", async (e) => {
      e.preventDefault();
  
      // Reset errors
      nameError.textContent = "";
      emailError.textContent = "";
      interestError.textContent = "";
  
      let hasError = false;
  
      if (!nameInput.value.trim()) {
        nameError.textContent = "Name is required";
        hasError = true;
      }
  
      if (!emailInput.value.trim()) {
        emailError.textContent = "Email is required";
        hasError = true;
      }
  
      if (!guestCheckbox.checked && !hostCheckbox.checked) {
        interestError.textContent = "Must check at least one";
        hasError = true;
      }
  
      if (hasError) return;
  
      const interest = guestCheckbox.checked && hostCheckbox.checked
        ? "wants to become both"
        : guestCheckbox.checked
        ? "wants to Become a Guest"
        : "wants to Become a Host";
  
      const subject = encodeURIComponent(interest);
      const body = encodeURIComponent(
        `Name: ${nameInput.value}\nEmail: ${emailInput.value}\nInterest: ${interest}`
      );
  
      // Using mailto for now, can later replace with backend email handler
      window.location.href = `mailto:elevatedechelon2025@gmail.com?subject=${subject}&body=${body}`;
  
      // Redirect to thank-you page after a short delay
      setTimeout(() => {
        window.location.href = "thank-you.html";
      }, 500); // wait half a second for the email client to trigger
    });
  </script>  
</body>
</html>
